<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CANVAS gloalCompositeOperation Demo</title>
    <style>
    	#btn a{float: left; list-style: none; margin-right:30px;}
    </style>
</head>
<body>
	<!--
		source-over	默认。在目标图像上显示源图像。
		source-atop	在目标图像顶部显示源图像。源图像位于目标图像之外的部分是不可见的。
		source-in	在目标图像中显示源图像。只有目标图像内的源图像部分会显示，目标图像是透明的。
		source-out	在目标图像之外显示源图像。只会显示目标图像之外源图像部分，目标图像是透明的。
		destination-over	在源图像上方显示目标图像。
		destination-atop	在源图像顶部显示目标图像。源图像之外的目标图像部分不会被显示。
		destination-in	在源图像中显示目标图像。只有源图像内的目标图像部分会被显示，源图像是透明的。
		destination-out	在源图像外显示目标图像。只有源图像外的目标图像部分会被显示，源图像是透明的。
		lighter	显示源图像 + 目标图像。
		copy	显示源图像。忽略目标图像。
		xor	使用异或操作对源图像与目标图像进行组合。
	-->
    <canvas id="canvas" style="border:1px solid #00BFFF;background:#fffffff;margin:0 auto;">
    Your browser does not support the canvas element.
    </canvas>
    <div id="btn">
    	<a>source-over</a>
    	<a>source-atop</a>
    	<a>source-in</a>
    	<a>source-out</a>
    	<a>destination-over</a>
    	<a>destination-atop</a>
    	<a>destination-in</a>
    	<a>destination-out</a>
    	<a>lighter</a>
    	<a>copy</a>
    	<a>xor</a>
    </div>
    
    

    <script type="text/javascript">
    	window.onload = function(){
    		
    		draw("source-over");
    		
    		var btn = document.getElementById('btn').getElementsByTagName('a');
    		for(var i = 0; i < btn.length; i++){
    			btn[i].onclick =  function(){
    				draw(this.text);
    			}
    		}
    		
    		
    	};
    	
    	function draw(ele){
    		vanvas = document.getElementById('canvas');
    		canvas.width = 1300;
    		canvas.height = 600;
    		var cxt = canvas.getContext('2d');
    		cxt.clearRect(0,0,canvas.width,canvas.height);
    		cxt.save();
    		
    		//Title
    		cxt.font = "bold 40px Arial";
			cxt.textAlign = "center";
			cxt.textBaseLine = "middle";
			cxt.fillStyle = "#058";
			cxt.fillText("globalCompositeOperation = "+ ele, canvas.width/2, 60)
    		//画一个矩形
    		cxt.beginPath();
    		cxt.fillStyle = "#FF0000";
    		cxt.fillRect(200,100,400,450);
    		
    		//画一个三角形
    		cxt.globalCompositeOperation = ele;
    		cxt.moveTo(400,100);
    		cxt.lineTo(800,500);
    		cxt.lineTo(200,500);
    		cxt.closePath();
    		cxt.fillStyle = "#00BFFF";
    		cxt.fill();
    		cxt.restore() 
    	};
 </script>
</body>
</html>